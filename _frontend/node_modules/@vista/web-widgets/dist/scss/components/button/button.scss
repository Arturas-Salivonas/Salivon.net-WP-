@import '../../utilities/all';

// Primary button styles
$button-primary-background: linear-gradient(180deg, $color-secondary-500, darken(desaturate(adjust-hue($color-secondary-500, 1), 2.52), 5.1) 100%) !default;
$button-primary-background-hover: linear-gradient(180deg, $color-secondary-400, $color-secondary-500 100%) !default;
$button-primary-background-active: linear-gradient(180deg, $color-secondary-700, $color-secondary-500 100%) !default;
$button-primary-background-disabled: linear-gradient(180deg, $color-grey-300, $color-grey-400 100%) !default;
$button-primary-border-color: $color-secondary-400 !default;
$button-primary-border-color-hover: $color-secondary-500 !default;
$button-primary-border-color-active: $color-secondary-600 !default;
$button-primary-border-color-focus: $color-secondary-600 !default;
$button-primary-border-color-disabled: $color-grey-300 !default;
$button-primary-font-color: $color-secondary-text !default;
$button-primary-font-color-disabled: $color-grey-500 !default;
$button-primary-font-weight: $font-weight-semibold !default;
$button-primary-box-shadow-focus: 0 1px 5px 0 $button-primary-border-color-focus !default;
$button-primary-text-shadow: 1px 1px 0 rgba(255, 255, 255, 0.3) !default;
$button-primary-text-shadow-active: none !default;
$button-primary-style-map: (
    background: $button-primary-background,
    background-hover: $button-primary-background-hover,
    background-active: $button-primary-background-active,
    background-disabled: $button-primary-background-disabled,
    border-color: $button-primary-border-color,
    border-color-hover: $button-primary-border-color,
    border-color-active: $button-primary-border-color-active,
    border-color-focus: $button-primary-border-color-focus,
    border-color-disabled: $button-primary-border-color-disabled,
    font-color: $button-primary-font-color,
    font-color-disabled: $button-primary-font-color-disabled,
    font-weight: $button-primary-font-weight,
    box-shadow-focus: $button-primary-box-shadow-focus,
    text-shadow: $button-primary-text-shadow,
    text-shadow-active: $button-primary-text-shadow-active
) !default;

// Secondary button styles
$button-secondary-background: $color-background !default;
$button-secondary-background-hover: $color-primary-0 !default;
$button-secondary-background-active: $color-primary-100 !default;
$button-secondary-background-disabled: $color-grey-0 !default;
$button-secondary-border-color: $color-primary-500 !default;
$button-secondary-border-color-hover: $color-primary-500 !default;
$button-secondary-border-color-focus: $color-primary-500 !default;
$button-secondary-border-color-disabled: $color-grey-400 !default;
$button-secondary-font-color: $color-primary-500 !default;
$button-secondary-font-color-disabled: $color-grey-400 !default;
$button-secondary-font-weight: $font-weight-semibold !default;
$button-secondary-box-shadow-focus: 0 0 2px 0 $button-secondary-border-color-focus !default;
$button-secondary-style-map: (
    background: $button-secondary-background,
    background-hover: $button-secondary-background-hover,
    background-active: $button-secondary-background-active,
    background-disabled: $button-secondary-background-disabled,
    border-color: $button-secondary-border-color,
    border-color-hover: $button-secondary-border-color-hover,
    border-color-focus: $button-secondary-border-color-focus,
    border-color-disabled: $button-secondary-border-color-disabled,
    font-color: $button-secondary-font-color,
    font-color-disabled: $button-secondary-font-color-disabled,
    font-weight: $button-secondary-font-weight,
    box-shadow-focus: $button-secondary-box-shadow-focus
) !default;

// Tertiary Button Style
$button-tertiary-background: linear-gradient(180deg, $color-white, #ededed 100%) !default;
$button-tertiary-background-hover: linear-gradient(180deg, $color-white, $color-white 100%) !default;
$button-tertiary-background-active: linear-gradient(180deg, #e0e0e0, #f5f5f5 100%) !default;
$button-tertiary-background-disabled: linear-gradient(180deg, #e7e7e7, #e7e7e7 100%) !default;
$button-tertiary-border-color: $color-grey-300 !default;
$button-tertiary-border-color-hover: #dfdede !default;
$button-tertiary-border-color-focus: $color-primary-500 !default;
$button-tertiary-font-color: $color-primary-600 !default;
$button-tertiary-font-color-disabled: #666666 !default;
$button-tertiary-font-weight: $font-weight-normal !default;
$button-tertiary-box-shadow-focus: 0 0 2px 0 $button-tertiary-border-color-focus !default;
$button-tertiary-style-map: (
    background: $button-tertiary-background,
    background-hover: $button-tertiary-background-hover,
    background-active: $button-tertiary-background-active,
    background-disabled: $button-tertiary-background-disabled,
    border-color: $button-tertiary-border-color,
    border-color-hover: $button-tertiary-border-color-hover,
    border-color-focus: $button-tertiary-border-color-focus,
    font-color: $button-tertiary-font-color,
    font-color-disabled: $button-tertiary-font-color-disabled,
    font-weight: $button-tertiary-font-weight,
    box-shadow-focus: $button-tertiary-box-shadow-focus
) !default;

// Small button size
$button-small-height: 28px !default;
$button-small-font-size: 14 !default;

// Medium (default) button size
$button-medium-height: 40px !default;
$button-medium-font-size: 16 !default;

// Large button size
$button-large-height: 50px !default;
$button-large-font-size: 20 !default;

@mixin button-styles($style-map) {
    background: map-get($style-map, background);
    border-color: map-get($style-map, border-color);
    color: map-get($style-map, font-color);
    fill: map-get($style-map, font-color);
    box-shadow: map-get($style-map, box-shadow);
    font-weight: map-get($style-map, font-weight);
    text-shadow: map-get($style-map, text-shadow);

    &::after {
        border-color: map-get($style-map, font-color);
    }

    &:not(:disabled):not(:active) {
        @include hover {
            background: map-get($style-map, background-hover);
            border-color: map-get($style-map, border-color-hover);
            color: map-get($style-map, font-color-hover);
            fill: map-get($style-map, font-color-hover);
            box-shadow: map-get($style-map, box-shadow-hover);
        }
    }

    &:not(:disabled):active {
        background: map-get($style-map, background-active);
        border-color: map-get($style-map, border-color-active);
        color: map-get($style-map, font-color-active);
        fill: map-get($style-map, font-color-active);
        box-shadow: map-get($style-map, box-shadow-active);
        text-shadow: map-get($style-map, text-shadow-active);
    }

    &:not(:active):not(:disabled):focus {
        background: map-get($style-map, background-focus);
        border-color: map-get($style-map, border-color-focus);
        color: map-get($style-map, font-color-focus);
        fill: map-get($style-map, font-color-focus);
        box-shadow: map-get($style-map, box-shadow-focus);
    }

    &:disabled {
        cursor: not-allowed;
        background: map-get($style-map, background-disabled);
        border-color: map-get($style-map, border-color-disabled);
        color: map-get($style-map, font-color-disabled);
        fill: map-get($style-map, font-color-disabled);
        box-shadow: map-get($style-map, box-shadow-disabled);

        &::after {
            border-color: map-get($style-map, font-color-disabled);
        }
    }
}

@mixin button-size($height, $font-size) {
    @include font-size($font-size);
    min-height: $height;

    .v-icon {
        width: $height * 0.5;
        height: $height * 0.5;
        display: inline-block;
    }

    &--loading::after {
        $loader-height: $height / 2;
        height: $loader-height;
        width: $loader-height;
        left: calc(50% - (#{$loader-height} / 2));
        top: calc(50% - (#{$loader-height} / 2));
    }
}

.v-button {
    display: inline-block;
    text-align: center;
    vertical-align: middle;
    user-select: none;
    position: relative;
    cursor: pointer;
    -webkit-appearance: none;
    -moz-appearance: none;
    text-decoration: none;

    &:not(:last-child) {
        margin-right: 0.5rem;
        margin-bottom: 0.5rem;
    }

    p,
    span {
        margin: 0;
    }

    @include input-control;
    @include button-size($button-medium-height, $button-medium-font-size);

    &--color-primary {
        @include button-styles($button-primary-style-map);
    }

    &--color-secondary {
        @include button-styles($button-secondary-style-map);
    }

    &--color-tertiary {
        @include button-styles($button-tertiary-style-map);
    }

    &--size-small {
        @include button-size($button-small-height, $button-small-font-size);
    }

    &--size-large {
        @include button-size($button-large-height, $button-large-font-size);
    }

    &--loading {
        color: transparent;
        pointer-events: none;
        user-select: none;
        text-shadow: none;

        &::after {
            content: '';
            position: absolute;
            display: block;
            box-sizing: border-box;
            animation: button-loading-rotation-animation 0.5s infinite linear;
            border: {
                radius: 50%;
                right: none;
                top: none;
                width: 2px;
                style: solid;
            }
        }
    }

    &--icon-only {
        padding: 0;

        .v-icon {
            display: block;
            margin: auto;
        }
    }
}

@keyframes button-loading-rotation-animation {
    from {
        -webkit-transform: rotate(0);
        transform: rotate(0);
    }

    to {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}