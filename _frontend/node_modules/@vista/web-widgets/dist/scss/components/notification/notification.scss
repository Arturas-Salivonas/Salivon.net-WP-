@import '../../utilities/all';

$notification-border-width: 2px !default;
$notification-border-style: solid !default;
$notification-border-radius: 6px !default;
$notification-shadow: 2px 2px 6px 0 rgba(0, 0, 0, 0.3) !default;

// Info notification styles
$notification-info-background-color: $color-card-background !default;
$notification-info-border-color: $color-grey-400 !default;
$notification-info-font-color: $color-text !default;
$notification-info-close-button-color: $color-text !default;
$notification-info-close-button-color-hover: $color-primary-600 !default;
$notification-info-style-map: (
    background-color: $notification-info-background-color,
    border-color: $notification-info-border-color,
    font-color: $notification-info-font-color,
    close-button-color: $notification-info-close-button-color,
    close-button-color-hover: $notification-info-close-button-color-hover
) !default;

// Warning notification styles
$notification-warning-background-color: $color-warning !default;
$notification-warning-border-color: lighten($color-warning, 10%) !default;
$notification-warning-font-color: $color-white !default;
$notification-warning-close-button-color: $color-white !default;
$notification-warning-close-button-color-hover: lighten($color-warning, 30%) !default;
$notification-warning-style-map: (
    background-color: $notification-warning-background-color,
    border-color: $notification-warning-border-color,
    font-color: $notification-warning-font-color,
    close-button-color: $notification-warning-close-button-color,
    close-button-color-hover: $notification-warning-close-button-color-hover
) !default;

// Error notification styles
$notification-error-background-color: $color-error !default;
$notification-error-border-color: lighten($color-error, 15%) !default;
$notification-error-font-color: $color-white !default;
$notification-error-close-button-color: $color-white !default;
$notification-error-close-button-color-hover: lighten($color-error, 30%) !default;
$notification-error-style-map: (
    background-color: $notification-error-background-color,
    border-color: $notification-error-border-color,
    font-color: $notification-error-font-color,
    close-button-color: $notification-error-close-button-color,
    close-button-color-hover: $notification-error-close-button-color-hover
) !default;

// Success notification styles
$notification-success-background-color: $color-success !default;
$notification-success-border-color: lighten($color-success, 15%) !default;
$notification-success-font-color: $color-white !default;
$notification-success-close-button-color: $color-white !default;
$notification-success-close-button-color-hover: lighten($color-success, 30%) !default;
$notification-success-style-map: (
    background-color: $notification-success-background-color,
    border-color: $notification-success-border-color,
    font-color: $notification-success-font-color,
    close-button-color: $notification-success-close-button-color,
    close-button-color-hover: $notification-success-close-button-color-hover
) !default;

.v-notification {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

@mixin notification-style($style-map) {
    border-color: map-get($style-map, border-color);
    background-color: map-get($style-map, background-color);
    color: map-get($style-map, font-color);

    * {
        color: map-get($style-map, font-color);
    }

    .v-notification__close-button {
        fill: map-get($style-map, close-button-color);

        &:hover:not(:active) {
            fill: map-get($style-map, close-button-color-hover);
        }
    }
}

.v-notification {
    padding: 15px 15px 15px 20px;
    box-shadow: $notification-shadow;

    border: {
        width: $notification-border-width;
        style: $notification-border-style;
        radius: $notification-border-radius;
    }

    &--style-info {
        @include notification-style($notification-info-style-map);
    }

    &--style-warning {
        @include notification-style($notification-warning-style-map);
    }

    &--style-error {
        @include notification-style($notification-error-style-map);
    }

    &--style-success {
        @include notification-style($notification-success-style-map);
    }
}

.v-notification__content {
    line-height: 1.3;
    font-weight: $font-weight-normal;

    ul {
        list-style-type: disc;
        padding-left: 15px;
        margin: 0;
    }

    li:not(:last-child) {
        margin-bottom: 5px;
    }

    * {
        line-height: 1.3;
    }
}

.v-notification__close-button {
    display: flex;
    justify-content: center;
    align-items: center;
    background: transparent;
    border: none;
    padding: 0;
    margin: 0 0 0 10px;
    appearance: none;
    width: 20px;
    height: 20px;
    cursor: pointer;

    .v-icon {
        width: 15px;
        height: 15px;
    }
}

@keyframes v-notification-animation-fade-in-downward {
    0% {
        max-height: 0;
        opacity: 0;
        transform: translate3d(0, -25px, 0);
    }

    100% {
        max-height: 200px;
        opacity: 1;
        transform: translate3d(0, 0, 0);
    }
}

.v-notification-transition {
    &-enter {
        animation: v-notification-animation-fade-in-downward 300ms cubic-bezier(0.435, 0.665, 0.695, 1.375) 1 forwards;
    }

    &-exit {
        animation: v-notification-animation-fade-in-downward 300ms ease-in-out 1 reverse;
    }
}