@import 'order-summary-status-indicator';
@import "order-summary-skeleton";
@import "order-summary-showtime-details";

$order-summary-default-background-color: transparent !default;
$order-summary-default-font-color: $color-text !default;
$order-summary-default-style-map: (
    background-color: $order-summary-default-background-color,
    font-color: $order-summary-default-font-color
) !default;

$order-summary-background: linear-gradient(0deg, rgba(255, 255, 255, 0) 0%, rgba(0, 0, 0, 0.2) 100%) !default;
$order-summary-animation-duration: 1.6s !default;
$order-summary-animation-timing-function: ease-in-out !default;

$order-summary-status-pending-background: $order-summary-background !default;
$order-summary-status-pending-background-color: #b50081 !default;
$order-summary-status-pending-background-color-secondary: #96006b !default;
$order-summary-status-pending-font-color: $color-white !default;
$order-summary-status-pending-style-map: (
    background: $order-summary-status-pending-background,
    background-color: $order-summary-status-pending-background-color,
    background-color-secondary: $order-summary-status-pending-background-color-secondary,
    font-color: $order-summary-status-pending-font-color
) !default;

$order-summary-status-active-background: $order-summary-background !default;
$order-summary-status-active-background-color: #5eb400 !default;
$order-summary-status-active-background-color-secondary: #4b8e02 !default;
$order-summary-status-active-font-color: $color-white !default;
$order-summary-status-active-style-map: (
    background: $order-summary-status-active-background,
    background-color: $order-summary-status-active-background-color,
    background-color-secondary: $order-summary-status-active-background-color-secondary,
    font-color: $order-summary-status-active-font-color
) !default;

$order-summary-status-admitted-background: $order-summary-background !default;
$order-summary-status-admitted-background-color: #02b2ff !default;
$order-summary-status-admitted-background-color-secondary: #0094d6 !default;
$order-summary-status-admitted-font-color: $color-white !default;
$order-summary-status-admitted-style-map: (
    background: $order-summary-status-admitted-background,
    background-color: $order-summary-status-admitted-background-color,
    background-color-secondary: $order-summary-status-admitted-background-color-secondary,
    font-color: $order-summary-status-admitted-font-color
) !default;

$order-summary-status-inactive-background: $order-summary-background !default;
$order-summary-status-inactive-background-color: #9b9b9b !default;
$order-summary-status-inactive-font-color: $color-grey-300 !default;
$order-summary-status-inactive-style-map: (
    background: $order-summary-status-inactive-background,
    background-color: $order-summary-status-inactive-background-color,
    font-color: $order-summary-status-inactive-font-color
) !default;

@mixin order-summary-style($style-map, $name) {
    background: map-get($style-map, background);
    background-color: map-get($style-map, background-color);
    color: map-get($style-map, font-color);

    @if (map-has-key($style-map, background-color-secondary)) {
        $animation-name: order-summary-background-color-animation--#{$name};
        animation-name: $animation-name;
        animation-duration: $order-summary-animation-duration;
        animation-timing-function: $order-summary-animation-timing-function;
        animation-iteration-count: infinite;

        @include background-color-animation($animation-name, map-get($style-map, background-color), map-get($style-map, background-color-secondary));
    }
}

@mixin background-color-animation($name, $primary, $secondary) {
    @keyframes #{$name} {
        0% {
            background-color: $primary;
        }
        50% {
            background-color: $secondary;
        }
        100% {
            background-color: $primary;
        }
    }
}

.v-order-summary {
    display: block;
    padding: 30px 20px;
    transition: background-color 300ms ease-in;

    &__wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        position: relative;
        max-width: 850px;
        margin: auto;
    }

    .v-qr-code {
        margin: 0 auto 1rem;
    }

    @include order-summary-style($order-summary-default-style-map, 'default');

    &--status-pending {
        @include order-summary-style($order-summary-status-pending-style-map, 'pending');
    }

    &--status-active {
        @include order-summary-style($order-summary-status-active-style-map, 'active');
    }

    &--status-admitted {
        @include order-summary-style($order-summary-status-admitted-style-map, 'admitted');
    }

    &--status-inactive {
        @include order-summary-style($order-summary-status-inactive-style-map, 'inactive');

        .v-qr-code,
        .v-order-summary__details {
            display: none;
        }

        .v-order-summary-status-indicator {
            position: static;
            margin-bottom: 0;
        }
    }
}