(window.vistaWidgetsJsonp=window.vistaWidgetsJsonp||[]).push([[30],{1:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(13),o=function(e){return{block:function(t){return i(e,t)},element:function(t,r){return i(e+"__"+t,r)}}},i=function(e,t){if(!t)return e;var r=a(e,t);return 0===r.length?e:e+" "+r.join(" ")},a=function(e,t){return Object.entries(t).reduce(function(t,r){var n=r[0],o=r[1],i=c(e,n,o);return null!==i&&t.push(i),t},new Array)},c=function(e,t,r){if(!r)return null;var o=Object(n.a)(t);return"string"==typeof r?e+"--"+o+"-"+Object(n.a)(r):e+"--"+o}},102:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e){if(e){var t=[],r=e.line1,n=e.line2,o=e.city;return r&&t.push(r),n&&t.push(n),o&&t.push(o),t.length>0?t.join(", "):void 0}}},12:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e){return function(t,r,n){r in e&&(t.validate(e[r],n)||delete e[r]);return e}}},13:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},14:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(4);function o(e,t){if(e){var r=e[t+"Translations"],o=e[t];return function(e){if(!e)return;var t=n.a.data.localisation.languageTag,r=e.find(function(e){return e.languageTag===t});return r?r.text:void 0}(r)||o}}},154:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(35),o=r(97),i=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,c)}s((n=n.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},c=function(e,t){return i(void 0,void 0,void 0,function(){var r;return a(this,function(i){switch(i.label){case 0:if(!t)throw new Error("Cannot load journey without a journeyId");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.a.getJourneyById(e,t)];case 2:return r=i.sent(),[2,Object(o.a)(r)];case 3:throw i.sent(),new Error("Failed to get journey with id: "+t);case 4:return[2]}})})}},155:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(35),o=r(97),i=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,c)}s((n=n.apply(e,t||[])).next())})},a=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},c=function(e,t){return i(void 0,void 0,void 0,function(){var r;return a(this,function(i){switch(i.label){case 0:if(!t)throw new Error("Cannot load journey without a journeyReference");i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.a.getJourneyByReference(e,t)];case 2:return r=i.sent(),[2,Object(o.a)(r)];case 3:throw i.sent(),new Error("Failed to get journey with reference: "+t);case 4:return[2]}})})}},21:function(e,t,r){"use strict";r.d(t,"a",function(){return n});r(48);function n(e,t){window.vista||(window.vista={}),window.vista.widgets||(window.vista.widgets={}),window.vista.widgets[e]=t}},22:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(0),o=r.n(n),i=r(15),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function c(e,t,r){var n=document.querySelectorAll(e);if(0===n.length)throw new Error("Cannot find element with selector "+e);if(n.length>1)throw new Error("Multiple element found with selector "+e+". Can only render the component to a single element.");var c=n[0],s=o.a.createRef();return Object(i.render)(o.a.createElement(t,a({ref:s},r)),c),{_component:s.current,unmount:function(){return Object(i.unmountComponentAtNode)(c)}}}},28:function(e,t,r){"use strict";
/** @license React v16.6.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,c=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.memo"):60115,h=n?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case c:return e;default:switch(e=e&&e.$$typeof){case u:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return v(e)===f}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=m,t.Fragment=a,t.Profiler=s,t.Portal=i,t.StrictMode=c,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===c||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===y||e.$$typeof===l||e.$$typeof===u||e.$$typeof===m)},t.isAsyncMode=function(e){return w(e)||v(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return v(e)===u},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===m},t.isFragment=function(e){return v(e)===a},t.isProfiler=function(e){return v(e)===s},t.isPortal=function(e){return v(e)===i},t.isStrictMode=function(e){return v(e)===c}},38:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(58),o=r(4),i={get Instance(){var e=o.a.data.cdn;return new n.CdnClient(e.url,{mediaApiToken:e.mediaApiToken,referenceScheme:e.referenceScheme,allowPlaceHolder:!0})}}},40:function(e,t,r){"use strict";var n,o=r(54),i=r(88),a=r(36),c=r(99),s=r(4),l=function(e){return Object(c.b)(e.startTime.utc)<=0&&!u(e)},u=function(e){return Object(a.isPast)(e.endTime.utc)},d=function(e){var t=s.a.data.ticketing.admittingDuration,r=Object(c.b)(e.startTime.utc);return!(t<=0||r<=0)&&r<t};function f(e){var t=o.a.selectors.getShowtimeById(e.showtimeId);if(!t)throw new Error("Showtime "+e.showtimeId+" not found. Cannot get status of journey order showtime");if(!o.a.selectors.getFilmById(t.filmId))throw new Error("Showtime film "+t.filmId+" not found. Cannot get status of journey order showtime");return Object(i.b)(e)?n.Refunded:u(t)?n.Expired:Object(i.a)(e)?n.Admitted:l(t)?n.NowPlaying:d(t)?n.Admitting:n.Pending}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return f}),r.d(t,"c",function(){return m}),function(e){e[e.Refunded=0]="Refunded",e[e.Pending=1]="Pending",e[e.Admitting=2]="Admitting",e[e.Admitted=3]="Admitted",e[e.NowPlaying=4]="NowPlaying",e[e.Expired=5]="Expired"}(n||(n={}));var m=function(e){return e===n.Pending||e===n.Admitting||e===n.Admitted||e===n.NowPlaying}},45:function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,c=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var l in r=Object(arguments[s]))o.call(r,l)&&(c[l]=r[l]);if(n){a=n(r);for(var u=0;u<a.length;u++)i.call(r,a[u])&&(c[a[u]]=r[a[u]])}}return c}},53:function(e,t,r){"use strict";e.exports=r(28)},6:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(27),o=r(4),i={get Instance(){var e=o.a.data.localisation,t=e.languageTag,r=e.currency,i=e.date;return new n.Formatter({localeTag:t,currency:r,date:i})}}},613:function(e,t,r){"use strict";r.r(t);var n=r(21),o=r(22),i=r(54),a=r(12),c=r(3),s={showtimeStartTimeDetails:"${startTime|d|dddd, MMMM DD, YYYY HH:mm}",itemDetails:"${quantity}x ${description}",bookingFeeLabel:"Fees",totalCostLabel:"Total",ticketsLabel:"Tickets",itemsLabel:"Food and drink",nextShowtimePendingHeading:"Next showtime",nextShowtimeActiveHeading:"Current showtime",upcomingShowtimesHeading:"Upcoming showtimes",expiredShowtimesHeading:"Expired showtimes",refundedShowtimesHeading:"Refunded showtimes"},l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e){if(!e)return s;if(!(new c.a).ofType("object").validate(e,"Order Details display text"))return s;var t=function(e){var t=Object(a.a)(e),r=(new c.a).ofType("string").minLength(1);return t(r,"showtimeStartTimeDetails","Order Details showtimeStartTimeDetails"),t(r,"itemDetails","Order Details itemDetails"),t(r,"bookingFeeLabel","Order Details bookingFeeLabel"),t(r,"totalCostLabel","Order Details totalCostLabel"),t(r,"ticketsLabel","Order Details ticketsLabel"),t(r,"itemsLabel","Order Details itemsLabel"),t(r,"nextShowtimePendingHeading","Order Details nextShowtimePendingHeading"),t(r,"nextShowtimeActiveHeading","Order Details nextShowtimeActiveHeading"),t(r,"upcomingShowtimesHeading","Order Details upcomingShowtimesHeading"),t(r,"expiredShowtimesHeading","Order Details expiredShowtimesHeading"),t(r,"refundedShowtimesHeading","Order Details refundedShowtimesHeading"),e}(e);return l({},s,t)}var d=r(5),f=r(0),m=r(4),p=r(10),y=r(154),h=r(155),v=r(87);var w,b=r(1),g=r(6),j=r(14),O=(w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.render=function(){var e=this.props,t=e.label,r=e.price,n=Object(b.a)("v-order-details-list-item");return f.createElement("li",{className:n.block()},f.createElement("span",{className:n.element("label")},t),f.createElement("span",{className:n.element("price")},g.a.Instance.currency(r)))},t=_([d.a],t)}(f.Component),k=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),N=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getFormattedLabelForItemGroup=function(e){var r=t.props,n=r.displayText,o=r.journeyStore.selectors.getItemById(e.itemId);return g.a.Instance.template(n.itemDetails,{quantity:e.quantity,description:Object(j.a)(o,"description")})},t}return k(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.orderItems,n=t.displayText;if(!r||0===r.length)return null;var o=function(e){var t=e.reduce(function(e,t){var r=t.itemId+"."+t.price,n=e.get(r);return n?(n.quantity++,n.totalPrice+=t.price):e.set(r,{itemId:t.itemId,firstOrderLineNumber:t.orderLineNumber,quantity:1,totalPrice:t.price}),e},new Map);return Array.from(t,function(e){return e[0],e[1]})}(r),i=Object(b.a)("v-order-details-item-list");return f.createElement("div",{className:i.block()},f.createElement("h4",{className:i.element("heading")},n.itemsLabel),f.createElement("ul",{className:i.element("list")},o.map(function(t){return f.createElement(S,{key:t.firstOrderLineNumber,label:e.getFormattedLabelForItemGroup(t),price:t.totalPrice})})))},t=N([d.a],t)}(f.Component),T=r(40),x=r(71),P=r(102),I=r(82),R=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.filmTitle,r=e.startTime,n=e.siteName,o=e.siteAddress,i=e.displayText,a=Object(b.a)("v-showtime-details");return f.createElement("section",{className:a.block()},f.createElement("div",{className:a.element("film")},f.createElement("h3",{className:a.element("film-title")},t),f.createElement("p",{className:a.element("start-time")},function(e,t){return g.a.Instance.template(e,{startTime:t})}(i.detailsShowtimeStartTime,r))),f.createElement("div",{className:a.element("site")},f.createElement("h3",{className:a.element("site-name")},n),o&&f.createElement("p",{className:a.element("site-address")},o)))},t=A([d.a],t)}(f.Component);var C=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),L=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getFormattedLabelForTicketGroup=function(e){var r=t.props,n=r.displayText,o=r.journeyStore.selectors.getTicketTypeById(e.ticketTypeId);return g.a.Instance.template(n.itemDetails,{quantity:e.quantity,description:Object(j.a)(o,"description")})},t}return C(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.tickets,n=t.displayText;if(!r||0===r.length)return null;var o=function(e){var t=e.reduce(function(e,t){var r=t.ticketTypeId+"."+t.price,n=t.ticketTypeId?e.get(r):void 0;return n?(n.quantity++,n.totalPrice+=t.price):e.set(r,{ticketTypeId:t.ticketTypeId,firstOrderLineNumber:t.orderLineNumber,quantity:1,totalPrice:t.price}),e},new Map);return Array.from(t,function(e){return e[0],e[1]})}(r),i=Object(b.a)("v-order-details-ticket-list");return f.createElement("div",{className:i.block()},f.createElement("h4",{className:i.element("heading")},n.ticketsLabel),f.createElement("ul",{className:i.element("list")},o.map(function(t){return f.createElement(S,{key:t.firstOrderLineNumber,label:e.getFormattedLabelForTicketGroup(t),price:t.totalPrice})})))},t=L([d.a],t)}(f.Component),B=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),H=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),t.prototype.render=function(){var e=this.props,t=e.orderShowtime,r=e.journeyStore,n=e.displayText,o=r.selectors.getShowtimeById(t.showtimeId);if(!o)return null;var i=r.selectors.getFilmById(o.filmId);if(!i)return null;var a=r.selectors.getSiteById(o.siteId);if(!a)return null;var c=Object(b.a)("v-order-details-showtime");return f.createElement("div",{className:c.block()},f.createElement("div",{className:c.element("poster")},f.createElement(I.a,{film:i})),f.createElement("div",{className:c.element("info")},f.createElement(D,{filmTitle:i.title,startTime:o.startTime.local,siteName:a.name,siteAddress:Object(P.a)(a.address),displayText:$(n)}),f.createElement(F,{tickets:t.tickets,displayText:n,journeyStore:r})))},t=H([d.a],t)}(f.Component);function $(e){return{detailsShowtimeStartTime:e.showtimeStartTimeDetails}}var q=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),J=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t.prototype.render=function(){var e=this.props,t=e.heading,r=e.orderShowtimes,n=e.journeyStore,o=e.displayText;if(!r||0===r.length)return null;var i=Object(b.a)("v-order-details-showtime-list");return f.createElement("div",{className:i.block()},t&&f.createElement("h2",{className:i.element("heading")},t),r.map(function(e){return f.createElement(M,{key:"order-details-showtime-"+e.showtimeId,displayText:o,orderShowtime:e,journeyStore:n})}))},t=J([d.a],t)}(f.Component),W=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},z=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},U=function(e){function t(t){var r=e.call(this,t)||this;return r.startTimer=function(){r.timer||(r.timer=setInterval(r.updateJourneyState,1e3))},r.updateJourneyState=function(){var e=r.props,t=e.journey,n=e.cancelTimerWhenLastShowtimeIsInactive,o=Object(x.b)(t);r.setState({journeyState:o}),n&&o.status!==x.a.Active&&clearInterval(r.timer)},r.state={journeyState:Object(x.b)(t.journey)},r}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.journey,r=e.journeyStore,n=e.displayText,o=Object(b.a)("v-order-details"),i=Object(v.b)(t);if(1===i.length)return f.createElement("div",{className:o.element("showtimes")},f.createElement(G,{orderShowtimes:i,journeyStore:r,displayText:n}));var a=this.state.journeyState,c=a.nextOrderShowtime,s=a.upcomingOrderShowtimes,l=a.expiredOrderShowtimes,u=a.refundedOrderShowtimes,d=(c?Object(T.b)(c):void 0)===T.a.Pending?n.nextShowtimePendingHeading:n.nextShowtimeActiveHeading;return f.createElement("div",{className:o.element("showtimes")},c&&f.createElement(G,{heading:d,orderShowtimes:[c],journeyStore:r,displayText:n}),f.createElement(G,{heading:n.upcomingShowtimesHeading,orderShowtimes:s,journeyStore:r,displayText:n}),f.createElement(G,{heading:n.expiredShowtimesHeading,orderShowtimes:l,journeyStore:r,displayText:n}),f.createElement(G,{heading:n.refundedShowtimesHeading,orderShowtimes:u,journeyStore:r,displayText:n}))},t.prototype.componentDidMount=function(){this.startTimer()},t=Y([d.a,z("design:paramtypes",[Object])],t)}(f.Component),V=function(){return f.createElement("div",{className:"v-order-details-skeleton"},f.createElement("div",{className:"v-order-details-skeleton__showtime"},f.createElement("div",{className:"v-order-details-skeleton-showtime__poster"},f.createElement("div",{className:"v-order-details-skeleton-showtime__poster-wrapper"})),f.createElement("div",{className:"v-order-details-skeleton-showtime__info"},f.createElement("ul",{className:"v-order-details-skeleton-showtime__item-details"},f.createElement("li",{className:"v-order-details-skeleton-showtime-showtime-details__showtime"},f.createElement("span",{className:"v-order-details-skeleton-showtime-showtime-details__title"}),f.createElement("span",{className:"v-order-details-skeleton-showtime-showtime-details__label"})),f.createElement("li",{className:"v-order-details-skeleton-showtime-showtime-details__showtime"},f.createElement("span",{className:"v-order-details-skeleton-showtime-showtime-details__title"}),f.createElement("span",{className:"v-order-details-skeleton-showtime-showtime-details__label"}))),f.createElement("div",{className:"v-order-details-skeleton-showtime__splitter"}),f.createElement("div",{className:"v-order-details-skeleton-showtime__order-showtime-details"},f.createElement("h3",{className:"v-order-details-skeleton-showtime-order-showtime-details__title"}),f.createElement("div",{className:"v-order-details-skeleton-showtime-order-showtime__item"},f.createElement("span",{className:"v-order-details-skeleton-showtime-order-showtime-details__label"}),f.createElement("span",{className:"v-order-details-skeleton-showtime-order-showtime-details__value"})),f.createElement("div",{className:"v-order-details-skeleton-showtime-order-showtime__item"},f.createElement("span",{className:"v-order-details-skeleton-showtime-order-showtime-details__label"}),f.createElement("span",{className:"v-order-details-skeleton-showtime-order-showtime-details__value"})),f.createElement("div",{className:"v-order-details-skeleton-showtime-order-showtime__item"},f.createElement("span",{className:"v-order-details-skeleton-showtime-order-showtime-details__label"}),f.createElement("span",{className:"v-order-details-skeleton-showtime-order-showtime-details__value"})),f.createElement("div",{className:"v-order-details-skeleton-showtime-order-showtime__item"},f.createElement("span",{className:"v-order-details-skeleton-showtime-order-showtime-details__label"}),f.createElement("span",{className:"v-order-details-skeleton-showtime-order-showtime-details__value"}))))),f.createElement("div",{className:"v-order-details-skeleton-total"},f.createElement("span",{className:"v-order-details-skeleton-total__label"}),f.createElement("span",{className:"v-order-details-skeleton-total__value"})))},Z=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.render=function(){var e=this.props,t=e.bookingFee,r=e.totalPrice,n=e.displayText,o=Object(b.a)("v-order-details-total");return f.createElement("div",{className:o.block()},f.createElement("div",{className:o.element("booking-fee")},f.createElement("span",{className:o.element("label")},n.bookingFeeLabel),f.createElement("span",{className:o.element("value")},g.a.Instance.currency(t))),f.createElement("div",{className:o.element("total-price")},f.createElement("span",{className:o.element("label")},n.totalCostLabel),f.createElement("span",{className:o.element("value")},g.a.Instance.currency(r))))},t=K([d.a],t)}(f.Component),X=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ee=function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},te=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{s(n.next(e))}catch(e){i(e)}}function c(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,c)}s((n=n.apply(e,t||[])).next())})},re=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype.render=function(){var e=this.props,t=e.journeyReference,r=e.journeyId,n=e.journeyStore,o=e.displayText,i=e.cancelTimerWhenLastShowtimeIsInactive;if(!t&&!r)return null;var a=r?n.selectors.getJourneyById(r):n.selectors.getJourneyByReference(t),c=m.a.data.enableLoadingIndicator;if(!a)return c?f.createElement(V,null):null;var s=Object(v.a)(a),l=Object(v.d)(a),u=Object(v.e)(a);return f.createElement("div",{className:"v-order-details"},f.createElement(U,{journey:a,journeyStore:n,cancelTimerWhenLastShowtimeIsInactive:i,displayText:o}),s.length>0&&f.createElement("div",{className:"v-order-details__items"},f.createElement(E,{orderItems:s,journeyStore:n,displayText:o})),f.createElement(Q,{bookingFee:l,totalPrice:u,displayText:o}))},t.prototype.componentDidMount=function(){return te(this,void 0,void 0,function(){var e,t,r,n,o,i,a,c,s;return re(this,function(l){switch(l.label){case 0:e=this.props,t=e.journeyStore,r=e.journeyReference,n=e.journeyId,o=m.a.data.api.cinemaChainId,i=t.actions,a=i.loadJourneyById,c=i.loadJourneyByReference,l.label=1;case 1:return l.trys.push([1,6,,7]),n||r?n?[4,a(y.a,o,n)]:[3,3]:[2,null];case 2:return l.sent(),[3,5];case 3:return[4,c(h.a,o,r)];case 4:l.sent(),l.label=5;case 5:return[3,7];case 6:return s=l.sent(),p.a.error(s),[3,7];case 7:return[2]}})})},t=ee([d.a],t)}(f.Component);r.d(t,"orderDetails",function(){return oe});var oe=function(e){var t=e.journeyReference,r=e.journeyId;if(!t&&!r)throw new Error("Cannot render the Order Details widget without a journeyReference or journeyId");var n={journeyReference:t,journeyId:r,journeyStore:i.a,displayText:u(e.displayText)};return Object(o.a)(e.selector,ne,n)};Object(n.a)("orderDetails",oe)},71:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a});var n,o=r(40),i=r(87);function a(e){var t=Object(i.c)(e),r=void 0,a=[],c=[],s=[];return t.forEach(function(e){var t=Object(o.b)(e);Object(o.c)(t)?r?a.push(e):r=e:t===o.a.Refunded?c.push(e):s.push(e)}),{status:r||a.length>0?n.Active:c.length>0&&0===s.length?n.Refunded:n.Expired,nextOrderShowtime:r,upcomingOrderShowtimes:a,refundedOrderShowtimes:c,expiredOrderShowtimes:s}}!function(e){e[e.Active=0]="Active",e[e.Refunded=1]="Refunded",e[e.Expired=2]="Expired"}(n||(n={}))},82:function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n,o=r(0),i=r(4),a=r(1),c=r(38),s=r(6),l=r(14),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){var e=this.props,t=e.film,r=e.linkUrl,n=Object(a.a)("v-film-poster"),i=c.a.Instance.film(t.id).poster(),s=o.createElement("img",{className:n.element("img"),src:i,alt:f(t)});return r?o.createElement("a",{href:r,className:n.block()},s):o.createElement("div",{className:n.block()},s)},t}(o.Component),f=function(e){var t=i.a.data.localisation.filmPosterAltTextFormat;return s.a.Instance.template(t,{filmTitle:Object(l.a)(e,"title")})}},85:function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),function(e){e.NotRefunded="NotRefunded",e.Refunded="Refunded"}(n||(n={}))},86:function(e,t,r){"use strict";var n;r.d(t,"a",function(){return n}),function(e){e.NotAdmitted="NotAdmitted",e.Admitted="Admitted"}(n||(n={}))},87:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return s}),r.d(t,"e",function(){return l});var n=r(46),o=r(88),i=function(e){return e.orders.reduce(function(e,t){return Object(n.a)(e,t.items)},new Array)},a=function(e){return e.orders.reduce(function(e,t){return Object(n.a)(e,t.showtimes)},new Array)},c=function(e){var t=a(e);return Object(o.c)(t)},s=function(e){return e.orders.reduce(function(e,t){return e+(t.booking&&t.booking.totalBookingFee||0)},0)},l=function(e){return e.orders.reduce(function(e,t){return e+t.totalPrice},0)}},88:function(e,t,r){"use strict";r.d(t,"c",function(){return a}),r.d(t,"b",function(){return c}),r.d(t,"a",function(){return s});var n=r(85),o=r(54),i=r(86),a=function(e){return e.sort(function(e,t){var r=o.a.selectors.getShowtimeById(e.showtimeId),n=o.a.selectors.getShowtimeById(t.showtimeId);return r&&n?r.startTime.utc.getTime()-n.startTime.utc.getTime():0})},c=function(e){return!e.tickets.find(function(e){return e.refundedStatus!==n.a.Refunded})},s=function(e){return!e.tickets.find(function(e){return e.admissionStatus!==i.a.Admitted})}},97:function(e,t,r){"use strict";var n=r(36),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=function(e){var t=o({},e),r=t.journey,i=t.relatedData,a=i.showtimes,c=i.items;if(a)for(var s=0,l=a;s<l.length;s++){var u=l[s],d=Object(n.addMinutes)(new Date(u.startTime.utc),200);u.endTime.utc=d.toISOString()}if(c){for(var f=0,m=c;f<m.length;f++){var p=m[f],y=p.extendedDescription||p.description;p.description=y}r.orders=r.orders.map(function(e){return function(e,t){var r=0,n=e.items.reduce(function(e,n){var o=t.find(function(e){return e.id===n.itemId});if(!o)return e;var i=/fee/i.test(o.description.text);return i?r+=n.price:e.push(n),e},new Array);return o({},e,{items:n,booking:{bookingId:void 0,originalBookingFee:r,totalBookingFee:r}})}(e,c)})}return t};var a,c;!function(e){e.NotCollected="NotCollected",e.Collected="Collected"}(a||(a={})),function(e){e.NotCollected="NotCollected",e.Collected="Collected"}(c||(c={}));var s,l=function(e){var t=a.NotCollected,r=a.Collected;switch(e){case t:return c.NotCollected;case r:return c.Collected}};!function(e){e.NotRefunded="NotRefunded",e.Refunded="Refunded"}(s||(s={}));var u,d=r(85),f=function(e){var t=s.NotRefunded,r=s.Refunded;switch(e){case t:return d.a.NotRefunded;case r:return d.a.Refunded}},m=function(e){return{itemId:e.itemId,orderLineNumber:e.orderLineNumber,price:e.price,collectedStatus:l(e.collectedStatus),refundedStatus:f(e.refundedStatus)}},p=function(e){return{seatLabel:e.seatLabel,rowLabel:e.rowLabel,position:(t=e.position,{areaNumber:t.areaNumber,columnIndex:t.columnNumber,rowIndex:t.rowNumber})};var t};!function(e){e.NotAdmitted="NotAdmitted",e.Admitted="Admitted"}(u||(u={}));var y=r(86),h=function(e){var t=u.NotAdmitted,r=u.Admitted;switch(e){case t:return y.a.NotAdmitted;case r:return y.a.Admitted}},v=function(e){return{ticketTypeId:e.ticketTypeId,ticketBarcode:e.ticketBarcode,orderLineNumber:e.orderLineNumber,price:e.price,seats:e.seats.map(p),collectedStatus:l(e.collectedStatus),refundedStatus:f(e.refundedStatus),admissionStatus:h(e.admissionStatus)}},w=function(e){return{showtimeId:e.showtimeId,tickets:e.tickets.map(v)}},b=function(e){return{totalPrice:e.totalPrice,originalPrice:e.originalPrice,booking:e.booking&&(t=e.booking,{bookingId:t.bookingId,totalBookingFee:t.totalBookingFee,originalBookingFee:t.originalBookingFee}),showtimes:e.showtimes.map(w),items:e.items.map(m)};var t},g=function(e){return{id:e.id,orders:e.orders.map(b)}},j=function(e){return{id:e.id,title:e.title.text,titleTranslations:e.title.translations}},O=function(e){return{id:e.id,description:e.description.text,descriptionTranslations:e.description.translations,extendedDescription:e.extendedDescription&&e.extendedDescription.text,extendedDescriptionTranslations:e.extendedDescription&&e.extendedDescription.translations}},_=function(e){return{id:e.id,screenName:e.screenName.text,screenNameTranslations:e.screenName.translations}},S=function(e){return{id:e.id,filmId:e.filmId,siteId:e.siteId,screenId:e.screenId,startTime:{local:new Date(e.startTime.local),utc:new Date(e.startTime.utc)},endTime:{local:new Date(e.endTime.local),utc:new Date(e.endTime.utc)}}},k=function(e){return{id:e.id,name:e.name.text,nameTranslations:e.name.translations,address:e.address}},N=function(e){return{id:e.id,description:e.description.text,descriptionTranslations:e.description.translations}},E=function(e){var t=e.films,r=e.ticketTypes,n=e.items,o=e.showtimes,i=e.sites,a=e.screens;return{films:t&&t.map(j),ticketTypes:r&&r.map(N),items:n&&n.map(O),showtimes:o&&o.map(S),sites:i&&i.map(k),screens:a&&a.map(_)}};r.d(t,"a",function(){return T});var T=function(e){var t=function(e){try{return i(e)}catch(t){return e}}(e),r=t.journey,n=t.relatedData;return{journey:g(r),relatedData:n&&E(n)}}},99:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return i});var n=r(36),o=function(e){return Object(n.differenceInSeconds)(e,Date.now())/60};function i(e){var t=e.getTime()-(new Date).getTime();return{days:Math.floor(t/864e5),hours:Math.floor(t%864e5/36e5),minutes:Math.floor(t%36e5/6e4),seconds:Math.floor(t%6e4/1e3)}}}},[[613,0,1]]]);