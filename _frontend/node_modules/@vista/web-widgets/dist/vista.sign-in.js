(window.vistaWidgetsJsonp=window.vistaWidgetsJsonp||[]).push([[46],{1:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var r=t(13),o=function(e){return{block:function(n){return i(e,n)},element:function(n,t){return i(e+"__"+n,t)}}},i=function(e,n){if(!n)return e;var t=a(e,n);return 0===t.length?e:e+" "+t.join(" ")},a=function(e,n){return Object.entries(n).reduce(function(n,t){var r=t[0],o=t[1],i=c(e,r,o);return null!==i&&n.push(i),n},new Array)},c=function(e,n,t){if(!t)return null;var o=Object(r.a)(n);return"string"==typeof t?e+"--"+o+"-"+Object(r.a)(t):e+"--"+o}},12:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var r=function(e){return function(n,t,r){t in e&&(n.validate(e[t],r)||delete e[t]);return e}}},13:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var r=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},157:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var r=function(e,n,t){return void 0!==e&&void 0!==e.config&&void 0!==e.config[n]?e.config[n]:t}},161:function(e,n,t){"use strict";var r,o=t(0),i=t(10),a=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),c=function(){return void 0!==window.grecaptcha&&"function"==typeof window.grecaptcha.render},s=function(e){function n(n){var t=e.call(this,n)||this;return t.recaptchaRef=o.createRef(),t.handleValueChanged=function(e){t.props.onValueChanged(e)},t.handleExpired=function(){t.props.onValueChanged(void 0)},t.renderRecaptcha=function(){var e=t.recaptchaRef.current;if(e){if(!e.firstChild){var n=document.createElement("div"),r=window.grecaptcha.render(n,{sitekey:t.props.siteKey,hl:t.props.ietfLanguageTag,size:t.props.size,callback:t.handleValueChanged,"expired-callback":t.handleExpired});e.appendChild(n),t.setState({recaptchaId:r}),"invisible"===t.props.size&&t.runCaptchaTest()}}else i.a.error("Can't render Recaptcha on a null element")},t.state={isReady:c(),recaptchaId:void 0},t.state.isReady||(t.readyCheckTimerId=window.setInterval(t.updateReadyState.bind(t),1e3)),t}return a(n,e),n.prototype.render=function(){return o.createElement("div",{className:"v-captcha",ref:this.recaptchaRef})},n.prototype.componentDidMount=function(){this.state.isReady&&this.renderRecaptcha()},n.prototype.componentDidUpdate=function(e,n){this.state.isReady&&!n.isReady&&this.renderRecaptcha()},n.prototype.componentWillUnmount=function(){clearInterval(this.readyCheckTimerId)},n.prototype.reset=function(){var e=this.state,n=e.isReady,t=e.recaptchaId;n&&void 0!==t&&window.grecaptcha.reset(t)},n.prototype.runCaptchaTest=function(){var e=this.state,n=e.isReady,t=e.recaptchaId;n&&void 0!==t&&window.grecaptcha.execute(t)},n.prototype.updateReadyState=function(){c()&&(this.setState({isReady:!0}),clearInterval(this.readyCheckTimerId))},n}(o.Component);t.d(n,"a",function(){return u});var l=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.captchaRef=o.createRef(),n}return l(n,e),n.prototype.reset=function(){var e=this.captchaRef.current;e&&e.reset&&e.reset()},n.prototype.render=function(){var e=this.props,n=e.config,t=e.onValueChanged;return void 0===n.siteKey?null:o.createElement(s,{ref:this.captchaRef,siteKey:n.siteKey,size:n.size,onValueChanged:t})},n}(o.Component)},20:function(e,n,t){"use strict";t.d(n,"b",function(){return o}),t.d(n,"c",function(){return i}),t.d(n,"a",function(){return u});var r,o,i,a=t(0),c=t(1),s=t(8),l=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});!function(e){e.Primary="Primary",e.Secondary="Secondary",e.Tertiary="Tertiary"}(o||(o={})),function(e){e.Small="Small",e.Medium="Medium",e.Large="Large"}(i||(i={}));var u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClick=function(e){n.props.disabled||n.props.loading||n.props.onClick&&n.props.onClick(e)},n}return l(n,e),n.prototype.render=function(){var e=this.props,n=e.disabled,t=e.type,r=e.tabIndex,o=e.icon,i=e.iconOnly,l=e.label,u=Object(c.a)("v-button");return a.createElement("button",{className:this.getButtonClass(u,this.props),type:t,disabled:n,onClick:this.handleClick,tabIndex:n?-1:r,"aria-label":i?l:void 0},o&&a.createElement("span",{className:u.element("icon")},a.createElement(s.a,{name:o})),!i&&l&&l.length>0&&a.createElement("span",{className:u.element("label")},l),this.props.children)},n.prototype.getButtonClass=function(e,n){var t=e.block({color:n.color||o.Secondary,size:n.size||i.Medium,loading:n.loading||!1,iconOnly:n.iconOnly||!1});return n.className?t+" "+n.className:t},n}(a.Component)},21:function(e,n,t){"use strict";t.d(n,"a",function(){return r});t(48);function r(e,n){window.vista||(window.vista={}),window.vista.widgets||(window.vista.widgets={}),window.vista.widgets[e]=n}},22:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r=t(0),o=t.n(r),i=t(15),a=function(){return(a=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function c(e,n,t){var r=document.querySelectorAll(e);if(0===r.length)throw new Error("Cannot find element with selector "+e);if(r.length>1)throw new Error("Multiple element found with selector "+e+". Can only render the component to a single element.");var c=r[0],s=o.a.createRef();return Object(i.render)(o.a.createElement(n,a({ref:s},t)),c),{_component:s.current,unmount:function(){return Object(i.unmountComponentAtNode)(c)}}}},34:function(e,n,t){"use strict";var r;t.d(n,"a",function(){return r}),function(e){e.Normal="Normal",e.Warning="Warning",e.Error="Error",e.Success="Success"}(r||(r={}))},43:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r,o=t(0),i=t(1),a=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),c=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleChange=function(e){n.props.onChange&&n.props.onChange(e),n.props.onChangeValue&&n.props.onChangeValue(e.target.value)},n}return a(n,e),n.prototype.render=function(){var e=this.props,n=e.id,t=e.name,r=e.type,a=e.value,c=e.placeholder,s=e.style,l=e.disabled,u=e.helpTextId,p=e.label,d=e.onBlur,f=e.maxLength,h=Object(i.a)("v-input");return o.createElement("input",{className:h.block({style:s}),type:r||"text",id:n,name:t,value:a,placeholder:c||void 0,disabled:l,"aria-describedby":u,"aria-label":p,onBlur:d,onChange:this.handleChange,maxLength:f})},n}(o.Component)},45:function(e,n,t){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map(function(e){return n[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,n){for(var t,a,c=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var l in t=Object(arguments[s]))o.call(t,l)&&(c[l]=t[l]);if(r){a=r(t);for(var u=0;u<a.length;u++)i.call(t,a[u])&&(c[a[u]]=t[a[u]])}}return c}},55:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var r,o=t(0),i=t(1),a=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),c=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this.props,n=e.id,t=e.style,r=Object(i.a)("v-help-text");return o.createElement("span",{id:n,className:r.block({style:t})},this.props.children)},n}(o.Component)},6:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var r=t(27),o=t(4),i={get Instance(){var e=o.a.data.localisation,n=e.languageTag,t=e.currency,i=e.date;return new r.Formatter({localeTag:n,currency:t,date:i})}}},61:function(e,n,t){"use strict";var r,o=t(0),i=t(1),a=t(55),c=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return c(n,e),n.prototype.render=function(){var e=this.props.elementId,n=Object(i.a)("v-label");return o.createElement("label",{className:n.block(),htmlFor:e},this.props.children)},n}(o.Component);t.d(n,"a",function(){return u});var l=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return l(n,e),n.prototype.render=function(){var e=this.props,n=e.id,t=e.name,r=e.label,c=e.helpText,l=e.style,u=e.children,p=n+"_help-text",d=this.props.showLabel;void 0===d&&(d=!0);var f={id:n,name:t,style:l,helpTextId:c&&c.length>0?p:void 0,label:d?void 0:r},h=u?o.Children.map(u,function(e){return o.cloneElement(e,f)}):[],g=Object(i.a)("v-field");return o.createElement("div",{className:g.block()},d&&r&&o.createElement(s,{elementId:n},r),h,c&&c.length>0&&o.createElement(a.a,{id:p,style:l},c))},n}(o.Component)},615:function(e,n,t){"use strict";t.r(n);var r,o=t(125),i=t(4),a=t(157);!function(e){e.SocialAccount="SocialAccount",e.UsernamePassword="UsernamePassword",e.EmailPassword="EmailPassword"}(r||(r={}));var c,s=function(e){return e.type===r.EmailPassword||e.type===r.UsernamePassword},l=t(21),u=t(22),p=t(3);function d(e){var n;if(void 0!==e)return{displayMode:e.displayMode?f(e.displayMode):void 0,providers:e.providers?(n=e.providers,n.filter(h)):void 0,fetchMemberDetailsOnSignIn:void 0===e.fetchMemberDetailsOnSignIn||e.fetchMemberDetailsOnSignIn}}function f(e){if(Object.keys(c).map(function(e){return c[e]}).includes(e))return e}function h(e){if(!e)return!1;if(!(new p.a).ofType("string").minLength(0).validate(e.name,"SignInOption name"))return!1;if(!Object.keys(r).map(function(e){return r[e]}).includes(e.type))return!1;var n=(new p.a).ofType("function");return e.type!==r.SocialAccount&&(n=n.allowUndefined()),!!n.validate(e.signIn,"SignInOption signIn")}!function(e){e.Expand="Expand",e.FadeIn="FadeIn"}(c||(c={}));var g=t(12),y={fieldSignInLabel:"Login",buttonBackLabel:"Back",buttonSignInOptionLabel:"Log in with ${signInProviderName}",fieldNameLabel:"Name",fieldNamePlaceholder:void 0,fieldEmailLabel:"Email",fieldEmailPlaceholder:void 0,fieldPasswordLabel:"Password",fieldPasswordPlaceholder:void 0,buttonSignInLabel:"Log in",errorRequiredFieldMissingInputMessage:"Input ${signInMethod} and password.",errorMissingCaptchaVerificationMessage:"Please verify you're not a robot.",errorApiIncorrectLoginCredentialsMessage:"The credentials you entered are incorrect.",errorApiFailedLoginMessage:"Login failed, please try again.",errorAuthProviderFailedLoginMessage:"Sorry, weâ€™re unable to log in with ${signInProviderName}."},m=function(){return(m=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function v(e){if(!e)return y;if(!(new p.a).ofType("object").validate(e,"Sign in display text"))return y;var n=function(e){var n=Object(g.a)(e),t=(new p.a).ofType("string").minLength(1).allowNull().allowUndefined(),r=(new p.a).ofType("string").minLength(1);return n(r,"fieldSignInLabel","Sign in fieldSignInLabel"),n(r,"buttonBackLabel","Sign in buttonBackLabel"),n(r,"buttonSignInOptionLabel","Sign in buttonSignInOptionLabel"),n(r,"fieldNameLabel","Sign in fieldNameLabel"),n(t,"fieldNamePlaceholder","Sign in fieldNamePlaceholder"),n(r,"fieldEmailLabel","Sign in fieldEmailLabel"),n(t,"fieldEmailPlaceholder","Sign in fieldEmailPlaceholder"),n(r,"fieldPasswordLabel","Sign in fieldPasswordLabel"),n(t,"fieldPasswordPlaceholder","Sign in fieldPasswordPlaceholder"),n(r,"buttonSignInLabel","Sign in buttonSignInLabel"),n(r,"errorRequiredFieldMissingInputMessage","Sign in errorRequiredFieldMissingInputMessage"),n(r,"errorMissingCaptchaVerificationMessage","Sign in errorMissingCaptchaVerificationMessage"),n(r,"errorApiIncorrectLoginCredentialsMessage","Sign in errorApiIncorrectLoginCredentialsMessage"),n(r,"errorApiFailedLoginMessage","Sign in errorApiFailedLoginMessage"),n(r,"errorAuthProviderFailedLoginMessage","Sign in errorAuthProviderFailedLoginMessage"),e}(e);return m({},y,n)}var b,w,I=t(0),S=t(1),O=t(6),_=t(20),E=(b=function(e,n){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}b(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),P=function(e){function n(n){var t=e.call(this,n)||this;return t.handleClick=function(){var e=t.props;(0,e.onClick)(e.signInProvider)},t.state={error:""},t}return E(n,e),n.prototype.render=function(){var e,n=this.props,t=n.signInProvider,r=n.displayText,o=Object(S.a)("v-sign-in-action");return I.createElement(_.a,{color:_.b.Primary,className:o.block((e={},e[t.name]=!0,e)),onClick:this.handleClick,icon:t.icon,label:this.getSignInActionLabel(r.buttonSignInOptionLabel,t.name)})},n.prototype.getSignInActionLabel=function(e,n){return O.a.Instance.template(e,{signInProviderName:n})},n}(I.Component),C=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),j=function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(a,c)}s((r=r.apply(e,n||[])).next())})},M=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},x=function(e){function n(n){var t=e.call(this,n)||this;return t.handleActionClicked=function(e){return j(t,void 0,void 0,function(){var n,t;return M(this,function(o){switch(o.label){case 0:if(n=this.props.displayText,this.clearError(),e.type!==r.SocialAccount)return this.props.onShowSignInForm(e.name),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.signIn()];case 2:return o.sent(),[3,4];case 3:return o.sent(),t=O.a.Instance.template(n.errorAuthProviderFailedLoginMessage,{signInProviderName:e.name}),this.setState({error:t}),[3,4];case 4:return[2]}})})},t.state={error:""},t}return C(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.signInProviders,r=n.isExpandDisplayMode,o=n.displayText,i=Object(S.a)("v-sign-in-actions");return I.createElement("div",{className:i.block()},this.state.error&&I.createElement("p",{className:i.element("error")},this.state.error),t.map(function(n){if(!r||!s(n))return I.createElement(P,{key:n.type+n.name,signInProvider:n,displayText:o,onClick:e.handleActionClicked})}))},n.prototype.clearError=function(){this.setState({error:""})},n}(I.Component),L=t(83),k=t(176),N=t(177);!function(e){e[e.FailedSignIn=500]="FailedSignIn",e[e.IncorrectSignInCredentials=41020]="IncorrectSignInCredentials"}(w||(w={}));var A,F=t(13),R=function(e){return!(0!==e.trim().length)},T=t(161),U=t(61),B=t(34),D=t(55),V=t(43),z=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),W=function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(a,c)}s((r=r.apply(e,n||[])).next())})},q=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};!function(e){e[e.EmptyInput=0]="EmptyInput",e[e.UnverifiedRecaptcha=1]="UnverifiedRecaptcha",e[e.IncorrectEmailAddress=2]="IncorrectEmailAddress"}(A||(A={}));var G,K=function(e){function n(n){var t=e.call(this,n)||this;return t.captchaRef=I.createRef(),t.clearSignInFields=function(){t.setState({userIdentifier:"",password:"",isLoading:!1,error:void 0});var e=t.captchaRef.current;e&&e.reset()},t.handleUsernameChange=function(e){t.setState({userIdentifier:e})},t.handlePasswordChange=function(e){t.setState({password:e})},t.handleCaptchaChanged=function(e){t.setState({captchaResponse:e})},t.handleSubmit=function(e){return W(t,void 0,void 0,function(){var n,t,r,o,i=this;return q(this,function(a){switch(a.label){case 0:return n=this.props.displayText,e.preventDefault(),(t=this.validateSignInForm()).success?(this.setState({error:void 0,isLoading:!0}),[4,this.props.signIn(this.state.userIdentifier,this.state.password).catch(function(e){var t=i.getSignInErrorMessage(e.code,n);i.setState({error:t,isLoading:!1})})]):(r=this.getValidationErrorMessage(t.error,n),this.setState({error:r}),[2]);case 1:return o=a.sent(),Object(N.a)(o)?(this.setState({error:void 0,isLoading:!1}),[2]):[2]}})})},t.state={isLoading:!1,password:"",userIdentifier:""},t}return z(n,e),n.prototype.render=function(){var e=this.props,n=e.signInMethod,t=e.captchaConfig,r=e.displayText,o=Object(k.a)(),i=this.state.error,a=Object(S.a)("v-sign-in-form");return I.createElement("form",{className:a.block(),onSubmit:this.handleSubmit},I.createElement(U.a,{id:"v-sign-in-form__identifier-"+Object(F.a)(n)+"-"+o,label:this.getSignInMethodLabel(n,r),style:i?B.a.Warning:B.a.Normal},I.createElement(V.a,{placeholder:this.getSignInMethodPlaceHolder(n,r),disabled:this.state.isLoading,onChangeValue:this.handleUsernameChange,value:this.state.userIdentifier})),I.createElement(U.a,{id:"v-sign-in-form__password-"+Object(F.a)(n)+"-"+o,style:i?B.a.Warning:B.a.Normal,label:r.fieldPasswordLabel},I.createElement(V.a,{placeholder:r.fieldPasswordPlaceholder,disabled:this.state.isLoading,onChangeValue:this.handlePasswordChange,type:"password",value:this.state.password})),t&&t.siteKey&&I.createElement("div",{className:a.element("captcha")},I.createElement(T.a,{ref:this.captchaRef,config:t,onValueChanged:this.handleCaptchaChanged})),i&&I.createElement("div",{className:a.element("validation")},I.createElement(D.a,{style:B.a.Warning},i)),I.createElement("div",{className:a.element("button")},I.createElement(_.a,{color:_.b.Primary,size:_.c.Medium,loading:this.state.isLoading,type:"submit"},r.buttonSignInLabel)))},n.prototype.validateInputFieldsNotEmpty=function(){var e=this.state,n=e.userIdentifier,t=e.password;return!R(n)&&!R(t)},n.prototype.validateCaptcha=function(){return!this.props.captchaConfig||!this.props.captchaConfig.siteKey||!!this.state.captchaResponse},n.prototype.validateSignInForm=function(){return this.validateInputFieldsNotEmpty()?this.props.captchaConfig&&!this.validateCaptcha()?{success:!1,error:A.UnverifiedRecaptcha}:{success:!0}:{success:!1,error:A.EmptyInput}},n.prototype.getValidationErrorMessage=function(e,n){switch(e){case A.EmptyInput:return O.a.Instance.template(n.errorRequiredFieldMissingInputMessage,{signInMethod:this.getSignInMethodLabel(this.props.signInMethod,n)});case A.UnverifiedRecaptcha:return n.errorMissingCaptchaVerificationMessage}return""},n.prototype.getSignInErrorMessage=function(e,n){switch(void 0===e&&(e=w.FailedSignIn),e){case w.FailedSignIn:return n.errorApiFailedLoginMessage;case w.IncorrectSignInCredentials:return n.errorApiIncorrectLoginCredentialsMessage}return Object(L.a)("Invalid sign in error type")(e)},n.prototype.getSignInMethodLabel=function(e,n){return e===r.EmailPassword?n.fieldEmailLabel:n.fieldNameLabel},n.prototype.getSignInMethodPlaceHolder=function(e,n){return e===r.EmailPassword?n.fieldEmailPlaceholder:n.fieldNamePlaceholder},n}(I.Component),H=t(8),$=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),J=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return $(n,e),n.prototype.render=function(){var e=this.props.displayText,n=Object(S.a)("v-sign-in-navigator");return I.createElement("div",{className:n.block()},I.createElement("div",{className:n.element("back",{active:this.props.showSignInForm}),onClick:this.props.onGoBack},I.createElement("div",{className:n.element("back-icon")},I.createElement(H.a,{name:"arrow-left",size:14})),I.createElement("label",{className:n.element("back-label")},e.buttonBackLabel)),I.createElement("div",{className:n.element("title")},e.fieldSignInLabel))},n}(I.Component),Z=function(){var e=Object(S.a)("v-sign-in");return I.createElement("div",{className:e.element("splitter")})},Q=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();!function(e){e.Expand="Expand",e.FadeIn="FadeIn"}(G||(G={}));var X=function(e){function n(n){var t=e.call(this,n)||this;return t.onShowSignInForm=function(e){t.setState({showSignInForm:!0,currentSignInProviderName:e})},t.onHideSignInForm=function(){t.setState({showSignInForm:!1})},t.showSplitterForExpandItemInExpandDisplayMode=function(e,n){return!!t.isExpandDisplayMode&&((t.props.providers.length!==n||0!==e)&&e<n)},t.isExpandDisplayMode=n.displayMode===G.Expand,t.state={showSignInForm:!1,currentSignInProviderName:""},t}return Q(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.providers,r=n.captchaConfig,o=n.displayText,i=this.state,a=i.showSignInForm,c=i.currentSignInProviderName,s=Object(S.a)("v-sign-in"),l=this.getSignwithUserCredentialsProviders(),u=l.length;return I.createElement("div",{className:s.block()},I.createElement(J,{showSignInForm:a,onGoBack:this.onHideSignInForm,displayText:o}),I.createElement("div",{className:s.element("viewport",{expand:this.isExpandDisplayMode})},I.createElement("div",{className:s.element("actions-wrapper",{hide:!this.isExpandDisplayMode&&a})},I.createElement(x,{displayText:o,isExpandDisplayMode:this.isExpandDisplayMode,onShowSignInForm:this.onShowSignInForm,signInProviders:t})),I.createElement("div",{className:s.element("forms-wrapper")},l.map(function(n,t){return I.createElement("div",{key:"user-credential-option-"+n.name,className:s.element("form-item",{active:e.isExpandDisplayMode||c===n.name})},e.showSplitterForExpandItemInExpandDisplayMode(t,u)&&I.createElement(Z,null),I.createElement(K,{signInMethod:n.type,captchaConfig:r,signIn:n.signIn,displayText:o}))}))))},n.prototype.getSignwithUserCredentialsProviders=function(){return this.props.providers.filter(function(e){return s(e)})},n.defaultProps={displayMode:G.Expand},n}(I.Component);t.d(n,"signIn",function(){return pe});var Y=function(){return(Y=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},ee=function(e,n,t,r){return new(t||(t=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(a,c)}s((r=r.apply(e,n||[])).next())})},ne=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},te=o.a.signInByUserNameAndPassword,re=o.a.signInByEmailAndPassword,oe=o.a.signInByExternalToken;function ie(e,n){var t=!e||void 0===e.fetchMemberDetailsOnSignIn||e.fetchMemberDetailsOnSignIn;return e&&e.providers&&e.providers.length>0?e.providers.map(function(e){return e.type===r.SocialAccount?function(e,n,t){void 0===n&&(n={});return Y({},e,{type:r.SocialAccount,signIn:se(e.name,e.signIn,n,t)})}(e,n,t):function(e,n,t){void 0===n&&(n={});var o=e.signIn||(a=e.type,a===r.UsernamePassword?te:re),i=e.type===r.UsernamePassword?r.UsernamePassword:r.EmailPassword;var a;return Y({},e,{type:i,signIn:ce(o,n,t)})}(e,n,t)}):[ae({},t)]}function ae(e,n){return void 0===e&&(e={}),{name:"User Name",type:r.UsernamePassword,signIn:ce(te,e,n)}}function ce(e,n,t){return function(r,o){return ue(function(){return e(r,o,t)},n)}}function se(e,n,t,r){var o=this;return function(){return ue(function(){return ee(o,void 0,void 0,function(){var t;return ne(this,function(o){switch(o.label){case 0:return[4,n(r)];case 1:return(t=o.sent())?[2,oe(e,t,r)]:[2,Promise.reject("Get external token failed.")]}})})},t)}}function le(e){if(void 0!==e){var n=function(e){return"function"==typeof e?e:void 0};return{onBeforeSignIn:n(e.onBeforeSignIn),onAfterFailedSignIn:n(e.onAfterFailedSignIn),onAfterSuccessfulSignIn:n(e.onAfterSuccessfulSignIn)}}}function ue(e,n){return ee(this,void 0,void 0,function(){var t,r;return ne(this,function(o){switch(o.label){case 0:n.onBeforeSignIn&&n.onBeforeSignIn(),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e()];case 2:return t=o.sent(),n.onAfterSuccessfulSignIn&&n.onAfterSuccessfulSignIn(t),[2,t];case 3:throw r=o.sent(),n.onAfterFailedSignIn&&n.onAfterFailedSignIn(),r;case 4:return[2]}})})}var pe=function(e){var n=Y({},e,{config:d(e.config),events:le(e.events)}),t={providers:ie(n.config,n.events),displayMode:Object(a.a)(n,"displayMode",G.Expand),displayText:v(e.displayText),captchaConfig:i.a.data.security.captcha};return Object(u.a)(e.selector,X,t)};Object(l.a)("signIn",pe)},8:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var r,o=t(0),i=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),a=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.render=function(){var e=this.props,n=e.name,t=e.className,r=e.size,i=e.x,a=e.y;return o.createElement("svg",{className:"v-icon v-icon-"+n+" "+(t||""),x:i,y:a},o.createElement("use",{xlinkHref:"#v-icon_"+n,width:r,height:r}))},n}(o.Component)},83:function(e,n,t){"use strict";t.d(n,"a",function(){return r});t(78);var r=function(e){return function(n){throw new Error(e)}}}},[[615,0,1]]]);