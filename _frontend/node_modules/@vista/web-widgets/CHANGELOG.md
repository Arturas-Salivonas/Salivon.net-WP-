# Vista Widgets Changelog

## 0.15.2 - 0.15.4

### Improvements

- Added API error handling to all widgets.
- Updated default branding to match ABC styles.
- Improved the **Ticket Picker** and **Seat Picker** widgets to allow usage without the showtime already added to the order.

### Bug fixes

- Fixed a bug that prevented the `select` quantity input mode from working.

## 0.15.1

### Improvements

- Updated the **Order Details** and **Order Summary** widgets to consume the new Journey DTO.

## 0.15.0

### New features

- Added the **Order Details** widget to display details about a completed order.
- Added the **Order Summary** widget to display the status of a completed order.
- Added the **Order Payment Form** widget to allow the user to pay for an order.
- Added the **Member Transaction History** widget to display the list of transactions for the logged-in Loyalty member.

### Breaking changes

- The **Booking Details** widget has been removed. Use the new **Order Details** widget instead.
- The **Booking Summary** widget has been removed. Use the new **Order Summary** widget instead.

### Bug fixes

- Fixed a bug that caused censor rating images to be sized incorrectly.
- Fixed a bug that prevents the current date from being automatically selected in the **Showtime Picker** widget.

## 0.14.0

### New features

- Added the **Item Picker** widget to display the items that can be added to an order.
- Added the **Order Cart** widget to display items that have been added to the order.
- Added the **Member Details** widget to display the details of the logged-in Loyalty member.
- Added the **Member Points Balance** widget to display points balance details for the logged-in Loyalty member.

### Breaking changes

- The **Order Basket** widget has been removed. Use the new **Order Cart** widget instead.
- The `enableLoadingIndicator` config setting has been removed from each widget. Use the global config option instead.

## 0.13.2

### Improvements

- The images for film censor ratings are now displayed in the **Film Details** and **Showtime Picker** widgets.

### Bug fixes

- Some IE11 layout issues in the demo site have been resolved.
- The **Seat Picker** widget now respects the legend position configuration.

## 0.13.0 - 0.13.1

### Improvements

- The UI library used in the widgets has been changed from Preact to React.
- The **Film List** widget has been rebuilt using Glider.js.
- The **Date Picker** component has been rebuilt using Glider.js.

### Breaking changes

- The polyfill script has been renamed from `vista.polyfill.js` to `vista.polyfills.js`.
- The date and currency configuration options have changed. See the docs for more info.

## 0.12.0

### New features

- Added the **Site Details** widget to retrieve and display the details of a cinema location.
- Added the **Site List** widget to retrieve and display a list of cinema locations.
- Added configuration options for the Vista CDN. See the 'Configuration' page of the docs for more info.

## 0.11.0

### New features

- Added the **Film Details** widget to retrieve and display the details of a film.
- Added the **Film List** widget to retrieve and display now showing and coming soon films (WIP).
- Added the **Showtime Picker** widget to retrieve and display showtimes for a given film (WIP).
- Added the **Site Picker** widget to allow the user to select which cinema locations they would like to browse.
- The seat map in the **Seat Picker** widget can now be rotated to have the screen positioned at the bottom.

### Breaking changes

- User Context store (`vista.stores.userContext`) has been removed.
- `cinemaChainId` is now set in the Configuration Store (`vista.stores.configuration`).
- The **Ticket Picker** widget now requires a `showtimeId` property.
- The **Seat Picker** widget now requires a `showtimeId` property.
- The **Voucher Input Form** widget now requires a `showtimeId` property.
- The **Browsing Helper** widget has been removed.
- The `vista.render.X` methods have been removed, to render a widget use the equivalent `vista.widgets.X` method.
- The `vista.widgets.X` methods will now all an object with the preact component and an unmount method.
- All string enum values have been changed to PascalCase. See the updated docs for more info.

## 0.10.0

### Improvements

- QR Codes are now generated client-side.
- As a security precaution, gift card numbers are no longer autocompleted by the Gift Card Checker Widget.
- Added the **Booking Details** widget to retrieve and display the details of a booking.
- Added the **Booking Summary** widget to display the basic information about a booking.
- Added `onLoadSeatLayoutFailed` callback event to the **Seat Picker** widget.
- Added `onLoadOrderTicketsFailed` callback event to the **Ticket Picker** widget.
- The seat selection rules of the **Seat Picker** widget can now be configured.

### New features

- Package tickets are now supported.
- Loyalty tickets are now supported.
- Error messages for the **Seat Picker**, **Ticket Picker** and **Customer Details Form** widgets can now be localised using the `displayText` property. See the docs for more info.
- Support for translated API data (e.g. film titles) has been added. See the 'Localisation' page of the docs for more info.

### Bug fixes

- Companion seats that are not in a `seatGroup` can now be selected without throwing an error.
- Seat labels are now themed correctly.
- Long presses no longer automatically cause a single-tap in the **Seat Picker**.

### Breaking changes

- The **Order Confirmation** widget has been replaced by the **Booking Summary** widget. See the docs for more info.
- `vista.theme-light.css` has been renamed to `vista.theme.light.css`
- `vista.theme-dark.css` has been renamed to `vista.theme.dark.css`
- The `load()` method of the **Ticket Picker** widget and **Seat Picker** widget has been removed.
- The `onAfterDataLoad` callback event of the **Ticket Picker** widget has been renamed to `onOrderTicketsLoaded`.
- The `onAfterDataLoad` callback event of the **Seat Picker** widget has been renamed to `onSeatLayoutLoaded`.

## 0.9.1

### Improvements

- The `cinemaChainId` now has a default value (`'default'`), so that it does not need to be explicitly set when using a Connect Widgets API.

## 0.9.0

### New features

- You can now localise the text, date format and currency format of Widgets. See the 'Localisation' page of the docs for more info.
- Added the **Sign In** widget to allow for Loyalty sign in.
- Added the **Gift Card Checker** widget to allow for checking the details of gift cards.

### Improvements

- Converted the **Ticket Picker** widget to a `<table>` component for better accessibility.
- Improved the responsiveness of the **Ticket Picker** widget on small screen devices.
- Converted the **Voucher Input Form** widget to a `<form>` component for better usability.
- Improved the dark styles of the **Seat Picker** widget.
- Migrated the Vista Widgets Documentation to Gatsby and improved documentation styling.
- Improved the style of the **Ticket Picker** widget counter to show a 'normal' and 'warning' state.
- Added an error to the **Ticket Picker** widget for when the user has not selected any tickets in ticket-first ordering mode.
- Added an error to the **Seat Picker** widget for when the user has not selected any seats in seat-first ordering mode.
- Improved the **Order Basket** widget to show real session and seat information.

### Bug fixes

- The `vista.render.X` method will now replace the first element of the selected container with the widget.
- Fixed a bug that prevented the user from selecting more tickets after selecting their seats in ticket-first ordering mode.
- Fixed a bug in the **Seat Picker** widget that caused the error messages to be displayed multiple times.
- Fixed a bug in the **Seat Picker** widget that prevented tap-to-zoom from zooming-in to the tapped location.
- Added a polyfill for `map.keys` to enable support for IE11.

### Breaking changes

- `vista.selectTickets` has been renamed to `vista.ticketPicker`.
- `vista.voucherInput` has been renamed to `vista.voucherInputForm`.
- The bootstrap options for the **Seat Picker** widget have changed. See the docs for more info.
- `font-family` is no longer specified in the Widget CSS files. Instead, widgets will inherit the font-family property from their hosting page.
- `vista.widgets.init()` has changed to `vista.widgets.configure()`. See the Configuration page of the docs for more info.
- `vista.api.use({ ... })` has been replaced by `vista.widgets.configure({ api: { ... } });`

## 0.8.0

### Improvements

- Improved the usability of the **Seat Picker** widget by ensuring that row labels are 'sticky' and are visible at any zoom level and panning location.
- Improved the performance of the **Seat Picker** widget during zoom and pan interaction.
- Improved the zoom and pan animations of the **Seat Picker** widget.

### Bug fixes

- Fixed a bug that prevented the seat-first ordering in Internet Explorer.
- Fixed the alignment of text and icons within buttons on older versions of iOS.

## 0.7.1

### Bug fixes

- Fixed a bug that prevented the **Seat Picker** widget from rendering.

## 0.7.0

### New features

- Added the ability to zoom and pan the **Seat Picker** widget.
- Added loading indicators to the **Seat Picker**, **Ticket Picker** and **Voucher Input** widgets.
- Integrated with `@vista/diagnostics` for logging.

### Bug fixes

- Fixed a bug that prevented the **Customer Details Form** widget from accepting user input.

## 0.6.1 - 0.6.2

### Bug fixes

- Fixed a bug that prevented the **Seat Picker** widget from being rendered using static data.

## 0.6.0

### New features

- Added support for seat-first ordering ticket flows.

## 0.5.0
Initial npm release.

## 0.0.0
Initial project setup.
