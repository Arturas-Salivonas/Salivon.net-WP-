/**
 * Groups a given set of journey order tickets by their ticketTypeId and price.
 */
export function groupJourneyOrderTicketsByIdAndPrice(tickets) {
    var ticketMap = tickets.reduce(function (map, ticket) {
        var key = ticket.ticketTypeId + "." + ticket.price;
        var existingTicket = ticket.ticketTypeId ? map.get(key) : undefined;
        if (existingTicket) {
            existingTicket.quantity++;
            existingTicket.totalPrice += ticket.price;
        }
        else {
            map.set(key, {
                ticketTypeId: ticket.ticketTypeId,
                firstOrderLineNumber: ticket.orderLineNumber,
                quantity: 1,
                totalPrice: ticket.price
            });
        }
        return map;
    }, new Map());
    return Array.from(ticketMap, function (_a) {
        var _ = _a[0], groupedTicket = _a[1];
        return groupedTicket;
    });
}
//# sourceMappingURL=journey-order-ticket-utils.js.map