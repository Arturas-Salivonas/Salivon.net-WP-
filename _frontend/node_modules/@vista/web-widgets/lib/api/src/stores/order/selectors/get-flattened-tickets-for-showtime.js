import { OrderTicketCategory } from '../../../../../types/order/order-ticket';
import { isVoucherTicketType } from '../../../services/order/utils/ticket-type-utils';
import { orderStoreInstance } from '../order-store';
/**
 * Returns a list of all possible order tickets for a showtime, including the current selections.
 * Todo: This should possibly be moved out of the api directory as it is a UI concern only
 */
export function getFlattenedTicketsForShowtime(showtimeId) {
    var showtime = orderStoreInstance.selectors.getShowtimeById(showtimeId);
    var ticketTypes = showtime.ticketTypes;
    var tickets = [];
    if (!ticketTypes)
        return tickets;
    ticketTypes.forEach(function (ticketType, ticketTypeKey) {
        var existingTickets = showtime.tickets.filter(function (ticket) { return ticket.ticketTypeKey === ticketTypeKey; });
        if (existingTickets.length > 0) {
            tickets.push.apply(tickets, existingTickets);
        }
        else if (!isVoucherTicketType(ticketType)) {
            tickets.push({
                ticketTypeKey: ticketTypeKey,
                quantity: 0,
                category: OrderTicketCategory.Standard
            });
        }
    });
    return tickets;
}
//# sourceMappingURL=get-flattened-tickets-for-showtime.js.map