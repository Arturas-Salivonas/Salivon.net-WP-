import { toJS } from 'mobx';
import { exampleOrderSeatA1 } from '../../../../../../example-data/order/order-seat';
import { exampleOrderShowtime } from '../../../../../../example-data/order/order-showtime';
import { orderStoreInstance } from '../../order-store';
import { exampleOrderSeatA2 } from './../../../../../../example-data/order/order-seat';
import { setSeatsForShowtime } from './../set-seats-for-showtime';
describe('setSeatsForShowtime', function () {
    afterEach(function () {
        orderStoreInstance.flush();
        jest.resetAllMocks();
    });
    it('throws an error if the showtime does not exist in the order', function () {
        expect(function () { return setSeatsForShowtime('123', []); }).toThrow();
    });
    it('sets the seats for the showtime', function () {
        var showtime = exampleOrderShowtime;
        orderStoreInstance.syncToCache = jest.fn();
        orderStoreInstance.data.order.showtimes = [showtime];
        var seats = [exampleOrderSeatA1, exampleOrderSeatA2];
        setSeatsForShowtime(showtime.showtimeId, seats);
        expect(toJS(orderStoreInstance.data.order.showtimes[0].seats)).toEqual(seats);
        expect(orderStoreInstance.syncToCache).toHaveBeenCalled();
    });
});
//# sourceMappingURL=set-seats-for-showtime.test.js.map