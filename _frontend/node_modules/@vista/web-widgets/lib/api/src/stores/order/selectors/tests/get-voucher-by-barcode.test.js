import { toJS } from 'mobx';
import { exampleVoucherSingleUse } from '../../../../../../example-data/vouchers';
import { getVoucherByBarcode } from '../get-voucher-by-barcode';
import { orderStoreInstance } from './../../order-store';
describe('getVoucherByBarcode', function () {
    beforeEach(function () {
        orderStoreInstance.flush();
    });
    it('throws an error when the voucher does not exist in the order', function () {
        orderStoreInstance.data.order.vouchers = {};
        expect(function () { return getVoucherByBarcode('123'); }).toThrow();
    });
    it('returns the voucher if it exists in the order', function () {
        var _a;
        orderStoreInstance.data.order.vouchers = (_a = {},
            _a[exampleVoucherSingleUse.barcode] = exampleVoucherSingleUse,
            _a);
        var result = getVoucherByBarcode(exampleVoucherSingleUse.barcode);
        expect(toJS(result)).toEqual(exampleVoucherSingleUse);
    });
});
//# sourceMappingURL=get-voucher-by-barcode.test.js.map