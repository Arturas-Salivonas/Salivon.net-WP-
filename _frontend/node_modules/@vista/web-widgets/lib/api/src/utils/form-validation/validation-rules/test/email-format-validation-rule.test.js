import { emailFormatValidationRule } from '../email-format-validation-rule';
import { FormValidationError } from '../validation-error';
describe('email format validation rule', function () {
    var testProperty = 'test';
    describe('can validate strings', function () {
        var validEmails = ['a@a.com', 'a@b', 'a+abc@b.c.d.e.f.g.com', 'test.email@vista.co', 'A@B.C'];
        var _loop_1 = function (email) {
            it("and validates '" + email + "' as valid", function () {
                var _a;
                var result = emailFormatValidationRule(testProperty)((_a = {}, _a[testProperty] = email, _a));
                expect(result).toBeUndefined();
            });
        };
        for (var _i = 0, validEmails_1 = validEmails; _i < validEmails_1.length; _i++) {
            var email = validEmails_1[_i];
            _loop_1(email);
        }
        var invalidEmails = ['abc@', 'abc.com', 'abc@abc.', 'abc', ''];
        var _loop_2 = function (email) {
            it("and validates '" + email + "' as invalid", function () {
                var _a;
                var result = emailFormatValidationRule(testProperty)((_a = {}, _a[testProperty] = email, _a));
                expect(result).toBe(FormValidationError.Format);
            });
        };
        for (var _a = 0, invalidEmails_1 = invalidEmails; _a < invalidEmails_1.length; _a++) {
            var email = invalidEmails_1[_a];
            _loop_2(email);
        }
    });
    describe('returns format error', function () {
        var invalidData = [{}, null, undefined, 3, -1];
        var _loop_3 = function (data) {
            it("for non-string '" + data + "'", function () {
                var _a;
                var result = emailFormatValidationRule(testProperty)((_a = {}, _a[testProperty] = data, _a));
                expect(result).toBe(FormValidationError.Format);
            });
        };
        for (var _i = 0, invalidData_1 = invalidData; _i < invalidData_1.length; _i++) {
            var data = invalidData_1[_i];
            _loop_3(data);
        }
    });
});
//# sourceMappingURL=email-format-validation-rule.test.js.map